---
title: "Gun Deaths in the United States, 2019"
author: "Carson Duce"
date: '`r Sys.Date()`'
output: html_document
---
## Background
In a time of politically charged debates surrounding the topic of the 2nd Amendment to the US Constitution, both sides with their arguments often stretch and bend the present data to fit their message. Generalizing, the two sides we currently see are gun control advocates (GCA) and the 2nd Amendment Advocates (2AA). The GCA aim to reduce gun violence by enacting red flag laws, require a federal universal background check of which to ensure that only law abiding citizens in good mental health have access to firearms and its accessories. The 2AA aim to allow firearm ownership to be practiced by law abiding citizens as is stated by the 2nd Amendment to the United States Constitution. 

The 2nd Amendment reads: "A well regulated militia, being necessary to the security of a free State, the right of the people to keep and bear Arms, shall not be infringed." 

When looking at the history of the United States, the word choice of the 2nd Amendment, and the its time in history, many arguments are formed based on different interpretations of who the 2nd Amendment applies to. *GCA arguments point out that the words like "regulated," "militia," and "security of a free State," offer reason to believe that the 2nd Amendment refers to a State's ability to form a militia, and regulate it to the States liking; of which the National Guards gets cited, a collective entity.* 2AA arguments goes down the road that the 2nd Amendment targets the individual specifically and that an armed individual (one), and a group of armed individuals (many) make up a militia. Different points get brought up regarding the other Amendments that show up in the Bill of Rights. 2AA highlight an exercise that taking out the 2nd Amendment from the Bill of Rights and then re-reading the Bill of Rights show that all other Amendments attain to the individual citizen (Wilson Combat, 2022). The Supreme Court has heard cases surrounding this very debate in Heller vs. District of Columbia in 2008. 

To provide a brief background on the case, DC made it illegal to carry unregistered firearms, and also prohibited registration of handguns (unless through the chief of police issuing a license of which could be denied). Laws were put in placed that required registered firearms to be unloaded, disassembled, bound to a trigger lock to be rendered inoperable unless in a form of business or legal recreation. Heller worked as a special police officer that carried a handgun on duty but was denied by the chief of police when Heller went to apply for a license. After which, Heller sued DC arguing that they had "violated his Second Amendment right to keep a function firearm in his home without a license" (Oyez). After hearing arguments in court, the Supreme Court Justices came to a 5 - 4 majority in declaring the DC's laws surrounding the permitting process and storage laws violated the 2nd Amendment. Justice Antonin Scalia would give the opinion of the court in a lengthy manner characterizing the history that the Amendment was written in, and how its current implementations relate to today.  

The conclusion that the majority came to held onto the individual notion of the citizen being able to keep and bear arms, not the military. A main reasoning was since it "...would be to create exactly the type of state-sponsored force against which the Amendment was meant to protect people" (Oyez). 

## Data
This project derived its data from the Gun Violence Archive (GVA), an independent research and data collection organization. GVA utilizing various autonomous data collection methods that collects from "...7,500+ sources from local and state police, media, data aggregates, government and other sources daily" (Gun Violence Archive, 2022). Utilizing processes of verifying reports through an initial researcher, and another secondary validation system, the GVA organization seeks to provide accurate and readily accessible data to further the discussion on gun violence (Gun Violence Archive, 2022). Collecting data was simple through GVA's website, https://www.gunviolencearchive.org/, that saw a query search option for its records. 

### Data Acquisition
This portion highlights step by step instructions of what parameters were utilized in the query search of GVA, the process of using R: A language and environment for statistical computing for working with the data to create a csv file to then be used for geocoding in ESRI's ArcGIS Pro.  

#### Query Search
When in the GVA's website, searching the database can be found here: https://www.gunviolencearchive.org/query. 

##### 1. 
Starting off with the default settings, click "Add a rule" to enable the first parameter to be applied. Using the scroll bar, scroll to where "Guns" appear and select it. Within the "Guns" rule, select the middle box to be (if its not already) "contains" and select the third box to be whichever class of firearms one may desire. Select "Add a rule" again and select "Date." Within the "Date" rule, be sure the middle box is set to "is in" and the "From" and "To" box are set to the desired range (see images 1.0).

![Insert image 1.0 here of the query search]()

When ready with all parameters enetered, select "Save" to pull up the results. During query searching, GVA's website limits query search's to a maximum of 80 pages for each search. The date range may need to be tested and reconfigured to ensure that all records are being gathered. 



```{r}


```

## Method

## Results

![this is captions](https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/pictures/handgunDeathsInUsa2019.png)

![this is captions](https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/pictures/rifleDeathsInUsa2019.png)

![this is captions](https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/pictures/shotgunDeathsInUsa2019.png)


## Conclusion

## References
"District of Columbia v. Heller." Oyez. Accessed May 12, 2023. https://www.oyez.org/cases/2007/07-290.

“Gun Violence Archive.” Gun Violence Archive, January 1, 2022. https://www.gunviolencearchive.org/explainer. 

R Core Team (2023). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.

Short answers against Gun Control &amp; how to defend the 2nd Amendment. Critical Mas EP47. YouTube. Wilson Combat, 2022. https://www.youtube.com/watch?v=pHRZhS8GTc0&amp;t=589s&amp;ab_channel=WilsonCombat. 

Willingham, AJ. “27 Words: Deconstructing the Second Amendment.” CNN, March 28, 2018. https://www.cnn.com/2016/08/10/politics/what-does-the-second-amendment-actually-mean-trnd/index.html. 


```{r}
library(readr)
library(dplyr)
library(tmaptools)
```


## Data Importation
```{r}

##data importation
handgun1 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVADec2nd2019ThroughDec31st2019HandgunIncidents.csv")
rifle <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAJan1st2019ThroughDec31st2019RifleIncidents.csv")
handgun2 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAJan1st2019ThroughMar1st2019HandgunIncidents.csv")
handgun3 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAJul2nd2019ThroughSep1st2019HandgunIncidents.csv")
handgun4 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAMar2nd2019ThroughMay1st2019HandgunIncidents.csv")
handgun5 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAMay2nd2019ThroughJul1st2019HandgunIncidents.csv")
handgun6 <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVASep2nd2019ThroughDec1st2019HandgunIncidents.csv")
shotgun <- read_csv("https://raw.githubusercontent.com/Duceman56/2019MappingOfGunArchive/main/data/GVAJan1stThroughDec31stShotgunIncidents.csv")

```

## select only wanted columns
```{r}
handgun1 <- handgun1[, 1:7]
handgun2 <- handgun2[, 1:7]
handgun3 <- handgun3[, 1:7]
handgun4 <- handgun4[, 1:7]
handgun5<- handgun5[, 1:7]
handgun6 <- handgun6[, 1:7]
shotgun <- shotgun[, 1:7]
```

## Combine the handgun data frames into one large data frame
```{r}
handgun <- rbind(handgun1, handgun2, handgun3, handgun4, handgun5, handgun6)

```

## combine the individual address, state/county, and state into one field
```{r}
wholeAddress <- paste(handgun$Address, handgun$`City Or County`, handgun$State, sep = ", ") ## for whole handgun data set
handgunTemp <- as.data.frame(wholeAddress) ## for whole handgun data set

wholeAddress1 <- paste(handgun1$Address, handgun1$`City Or County`, handgun1$State, sep = ", ")
handgunTemp1 <- as.data.frame(wholeAddress1)

wholeAddress2 <- paste(handgun2$Address, handgun2$`City Or County`, handgun2$State, sep = ", ")
handgunTemp2 <- as.data.frame(wholeAddress2)

wholeAddress3 <- paste(handgun3$Address, handgun3$`City Or County`, handgun3$State, sep = ", ")
handgunTemp3 <- as.data.frame(wholeAddress3)

wholeAddress4 <- paste(handgun4$Address, handgun4$`City Or County`, handgun4$State, sep = ", ")
handgunTemp4 <- as.data.frame(wholeAddress4)

wholeAddress5 <- paste(handgun5$Address, handgun5$`City Or County`, handgun5$State, sep = ", ")
handgunTemp5 <- as.data.frame(wholeAddress5)

wholeAddress6 <- paste(handgun6$Address, handgun6$`City Or County`, handgun6$State, sep = ", ")
handgunTemp6 <- as.data.frame(wholeAddress6)

wholeAddressRifle <- paste(rifle$Address, rifle$`City Or County`, rifle$State, sep = ", ")
rifleTemp1 <- as.data.frame(wholeAddressRifle)

wholeAddressShotgun <- paste(shotgun$Address, shotgun$`City Or County`, shotgun$State, sep = ", ")
shotgunTemp1 <- as.data.frame(wholeAddressShotgun)
```

## add address to main handgun, rifles, and shotgun dataframe
```{r}
handgun <- cbind(handgun, handgunTemp)
rifle <- cbind(rifle, rifleTemp1)
shotgun <- cbind(shotgun, shotgunTemp1)
```

## geocode portion
```{r}
## geocoded <- geocode_OSM(handgunTemp$wholeAddress)
## geocodedWhole <- geocode_OSM(handgun$wholeAddress)
```

## summary statistics
```{r}
sum(handgun$`# Killed`)
sum(handgun$`# Injured`)
str(handgun)

sum(rifle$`# Killed`)
sum(rifle$`# Injured`)
str(rifle)

sum(shotgun$`# Victims Killed`)
sum(shotgun$`# Victims Injured`)
str(shotgun)
```


## write new csv to dedicated locations
```{r}
## write_csv(handgun, file = "//Users//carsond//Desktop//handgun.csv") #"Q://StudentCoursework//Zeitler//GEOG.280.001.2235//DUCECR1126//09 - Final Map Project//handgun.csv")
## write_csv(rifle, file = "//Users//carsond//Desktop//rifle.csv")
## write_csv(shotgun, file = "//Users//carsond//Desktop//shotgun.csv")
```
